
def encrypt(data, k):
    result = ''
    for c in data:
        A = ord(c)
        new = ((((((A & ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))))) + (A | ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k)))))))))))) | (-((((A & k) + (A | k)) ^ (-(A + (k + (1 + ((~A) | (~k))))))) + (2 * (((A & k) + (A | k)) & (-(A + (k + (1 + ((~A) | (~k))))))))))) - (((A & ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))))) + (A | ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k)))))))))))) & (-((((A & k) + (A | k)) ^ (-(A + (k + (1 + ((~A) | (~k))))))) + (2 * (((A & k) + (A | k)) & (-(A + (k + (1 + ((~A) | (~k)))))))))))) & (2 * ((((A & ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))))) + (A | ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k)))))))))))) + (-((((A & k) + (A | k)) ^ (-(A + (k + (1 + ((~A) | (~k))))))) + (2 * (((A & k) + (A | k)) & (-(A + (k + (1 + ((~A) | (~k))))))))))) - (((A & ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))))) + (A | ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k)))))))))))) | (-((((A & k) + (A | k)) ^ (-(A + (k + (1 + ((~A) | (~k))))))) + (2 * (((A & k) + (A | k)) & (-(A + (k + (1 + ((~A) | (~k)))))))))))))) + (((((A & ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))))) + (A | ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k)))))))))))) | (-((((A & k) + (A | k)) ^ (-(A + (k + (1 + ((~A) | (~k))))))) + (2 * (((A & k) + (A | k)) & (-(A + (k + (1 + ((~A) | (~k))))))))))) - (((A & ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))))) + (A | ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k)))))))))))) & (-((((A & k) + (A | k)) ^ (-(A + (k + (1 + ((~A) | (~k))))))) + (2 * (((A & k) + (A | k)) & (-(A + (k + (1 + ((~A) | (~k)))))))))))) | (2 * ((((A & ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))))) + (A | ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k)))))))))))) + (-((((A & k) + (A | k)) ^ (-(A + (k + (1 + ((~A) | (~k))))))) + (2 * (((A & k) + (A | k)) & (-(A + (k + (1 + ((~A) | (~k))))))))))) - (((A & ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))))) + (A | ((k & ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))))) + (k | ((1 & ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k))))))) + (1 | ((~A) + ((~k) + (1 + ((~(~A)) | (~(~k)))))))))))) | (-((((A & k) + (A | k)) ^ (-(A + (k + (1 + ((~A) | (~k))))))) + (2 * (((A & k) + (A | k)) & (-(A + (k + (1 + ((~A) | (~k)))))))))))))))
        new = new % 127
        result = result + chr(new)
    return result

# FLAG = "REDACTED"
# KEY = ... # key is redacted 

expected = "mojd7c`<CCO_aNicdSq0SC@<M/?A.ICD5"

def main():
    print("Welcome to the algebra challenge!")
    print("Enter the correct input to get the flag:")
    
    user_input = input("> ")
    result = encrypt(user_input, KEY)
    if result == expected:
        print("Congratulations! You found the flag!")
    else:
        print("Wrong input. Try again!")

if __name__ == "__main__":
    main()
